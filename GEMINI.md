# AI Rules — Project Guidelines

## Общие правила

1. Пользователь — Комил.
2. Всегда отвечай на русском языке.
3. Всегда пиши комментарии в коде на русском языке:
   - коротко
   - понятно
   - по делу
   - по теме
   - без воды
   - без лишних слов
   - без лишних эмоций
   - по человечески

4. Всегда пиши документацию на русском языке.
5. Не используй английский язык без необходимости.

## КРИТИЧЕСКОЕ ПРАВИЛО — Подтверждение изменений

6. НИКОГДА не изменяй код без явного разрешения Комила.

7. К изменениям относится:
   - рефакторинг
   - создание новых файлов
   - удаление файлов
   - изменение существующих файлов
   - изменение архитектуры
   - изменение структуры проекта
   - изменение импортов
   - изменение конфигурации
   - изменение типов
   - изменение логики

8. ВСЕГДА соблюдай порядок:
   1. Проанализируй задачу
   2. Предложи пошаговый план
   3. Дождись подтверждения Комила
   4. Только после подтверждения вноси изменения

9. Никогда не изменяй:
   без отдельного разрешения Комила.

## Технологический стек

10. Основной стек проекта:

- React
- TypeScript
- Ant Design (antd)
- Tailwind CSS v4

11. Для работы с API всегда используй:

- кастомные хуки из @shared/api/hooks useGetFolders и useMutationQuery
- `_axios` из `@shared/api`

12. Никогда не используй:

- fetch
- axios напрямую

13. Всегда используй Query hooks или Mutation hooks.

## Работа с датами

14. Всегда используй библиотеку:

- dayjs

16. Запрещено использовать:

- new Date()
- moment.js
- date-fns

15. Все операции с датами выполняй через dayjs:

- форматирование
- парсинг
- сравнение
- вычисления

## Архитектура (FSD)

16. Соблюдай Feature-Sliced Design:

- app
- pages
- widgets
- features
- entities
- shared

17. Импорты только через алиасы:

- @app
- @pages
- @widgets
- @features
- @entities
- @shared

18. Компоненты в PascalCase.
19. В папках используй `index.ts` для чистого экспорта.

## API и запросы

20. Всегда используй TanStack Query.
21. Всегда используй `_axios` из `@shared/api`.
22. Не используй fetch.
23. Не используй axios напрямую.
24. Всегда используй Query hooks или Mutation hooks.

## Именование

25. Компоненты и папки — PascalCase.
26. Типы:
    - Все типы и интерфейсы должны храниться в файле model.ts соответствующей директории.
    - Запрещено создавать отдельную папку model/.
    - Файл model.ts должен находиться на одном уровне с компонентом или логикой.
    - T для типов
    - I для интерфейсов

27. Локальные типы компонента — в файле компонента.
28. Серверные модели — в `model/`.

## UI и стили

29. Для сложных UI используй Ant Design.
30. Для отступов и быстрых правок используй Tailwind CSS.
31. Для анимаций используй framer-motion.
32. Для форм используй Ant Design Form.
33. Для уведомлений используй react-toastify.

## Конфигурация

34. Не используй import.meta.env напрямую.
35. Всегда бери переменные через getEnvVar из @shared/config.

## Декомпозиция

36. Один файл — максимум 200 строк.
37. Дели на:

- главный компонент
- renderJSX (функции/константы)
- вспомогательные компоненты

## Архитектурный поток

38. Данные идут сверху вниз:
    page → widgets → features
39. Главная логика блока живет в widgets.

## Проверка перед завершением

40. Перед завершением:

- проверь типы
- запусти линтер
- проверь, что все работает

## Ключевое правило

41. Если сомневаешься — спроси Комила.
